<section class="pdf-wrapper">
  <div class="intro-card">
    <span class="eyebrow">{{ 'pdfToTxt.intro.eyebrow' | translate }}</span>
    <h1>{{ 'pdfToTxt.intro.title' | translate }}</h1>
    <p>
      {{ 'pdfToTxt.intro.description' | translate }}
    </p>
    <div class="highlights">
      <div class="highlight">
        <span class="icon">‚ö°</span>
        <span>{{ 'pdfToTxt.highlights.fast' | translate }}</span>
      </div>
      <div class="highlight">
        <span class="icon">üîí</span>
        <span>{{ 'pdfToTxt.highlights.privacy' | translate }}</span>
      </div>
      <div class="highlight">
        <span class="icon">üìù</span>
        <span>{{ 'pdfToTxt.highlights.ready' | translate }}</span>
      </div>
    </div>
  </div>

  <div class="conversion-area" [class.has-file]="selectedFile()">
    <div class="dropzone" (click)="fileInput.click()">
      <input #fileInput type="file" accept="application/pdf" (change)="onFileSelected($event)" hidden>
      <div class="dropzone-visual">
        <div class="badge">{{ 'pdfToTxt.dropzone.badge' | translate }}</div>
        <h2>{{ 'pdfToTxt.dropzone.title' | translate }}</h2>
        <p>{{ 'pdfToTxt.dropzone.subtitle' | translate }}</p>
      </div>
      <button type="button" class="btn btn-secondary">{{ 'pdfToTxt.dropzone.button' | translate }}</button>
    </div>

    <div class="status" *ngIf="selectedFile() || isProcessing() || errorMessage()">
      <div class="file-info" *ngIf="selectedFile()">
        <div class="file-meta">
          <h3>{{ selectedFile()?.name }}</h3>
          <span>{{ (selectedFile()?.size || 0) / 1024 | number:'1.0-0' }} KB</span>
        </div>
        <button type="button" class="link" (click)="clearSelection()">{{ 'pdfToTxt.status.replaceFile' | translate }}</button>
      </div>

      <div class="progress" *ngIf="isProcessing()">
        <div class="progress-bar">
          <div class="progress-value" [style.width.%]="(processedPages() / (totalPages() || 1)) * 100"></div>
        </div>
        <span class="progress-label">{{ progressLabel() }}</span>
      </div>

      <p class="error" *ngIf="!isProcessing() && errorMessage()">{{ errorMessage() }}</p>
    </div>
  </div>

  <div class="result" *ngIf="hasText() && !errorMessage()">
    <div class="result-header">
      <h2>{{ 'pdfToTxt.result.title' | translate }}</h2>
      <button type="button" class="btn btn-ghost" (click)="copyExtractedText()">
        {{ 'pdfToTxt.result.copy' | translate }}
      </button>
    </div>
    <textarea readonly [value]="extractedText()"></textarea>
  </div>

  <div class="fallback" *ngIf="!isProcessing() && !selectedFile() && !hasText() && !errorMessage()">
    <h3>{{ 'pdfToTxt.fallback.title' | translate }}</h3>
    <p>
      {{ 'pdfToTxt.fallback.description' | translate }}
    </p>
  </div>
</section>
