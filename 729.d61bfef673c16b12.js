"use strict";(self.webpackChunkbot_list=self.webpackChunkbot_list||[]).push([[729],{9729:(L,d,i)=>{i.r(d),i.d(d,{BotDetailPageComponent:()=>$});var c=i(177),_=i(4147),p=i(1413),m=i(8810),f=i(7673),b=i(6977),g=i(6697),u=i(6354),x=i(5558),E=i(9437),P=i(23),h=i(5473),M=i(3217),t=i(4438),O=i(3241),C=i(31);const D=()=>["/bots"];function I(n,r){1&n&&(t.j41(0,"section",6),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"botDetail.loading")," "))}function R(n,r){if(1&n){const e=t.RV6();t.j41(0,"a",18),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openSource())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.detail.actions.viewSource||t.bMT(2,1,"botDetail.viewSource")," ")}}function v(n,r){if(1&n&&(t.j41(0,"p",19),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.detail.longDescription," ")}}function B(n,r){if(1&n&&(t.j41(0,"p",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.detail.shortDescription||t.bMT(2,1,"botDetail.noDescription")," ")}}function y(n,r){if(1&n&&(t.j41(0,"div",20)(1,"span",21),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"code"),t.EFF(5),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,"botDetail.startCommand")),t.R7$(3),t.JRh(e.detail.startCommand)}}function T(n,r){if(1&n&&(t.j41(0,"li")(1,"span",24),t.EFF(2),t.k0s(),t.j41(3,"span",25),t.EFF(4),t.k0s()()),2&n){const e=r.$implicit;t.R7$(2),t.JRh(e.key),t.R7$(2),t.JRh(e.value)}}function k(n,r){if(1&n&&(t.j41(0,"section",22)(1,"h3"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ul"),t.DNE(5,T,5,2,"li",23),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,"botDetail.actionsTitle")),t.R7$(3),t.Y8G("ngForOf",e.actionEntries)}}function F(n,r){if(1&n){const e=t.RV6();t.j41(0,"section",7)(1,"a",8),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"header",9)(5,"div",10)(6,"span",11),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"h2"),t.EFF(10),t.k0s()(),t.j41(11,"div",12)(12,"button",13),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.downloadBot())}),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.DNE(15,R,3,3,"a",14),t.k0s()(),t.DNE(16,v,2,1,"p",15)(17,B,3,3,"ng-template",null,0,t.C5r)(19,y,6,4,"div",16)(20,k,6,4,"section",17),t.k0s()}if(2&n){const e=t.sdS(18),o=t.XpG();t.R7$(),t.Y8G("routerLink",t.lJ4(16,D)),t.R7$(),t.JRh(t.bMT(3,10,"botDetail.backToBots")),t.R7$(5),t.JRh(t.bMT(8,12,"languages."+o.detail.language+".label")),t.R7$(3),t.JRh(o.detail.displayName||o.detail.botName),t.R7$(3),t.SpI(" ",o.detail.actions.download||t.bMT(14,14,"botDetail.download")," "),t.R7$(2),t.Y8G("ngIf",o.detail.sourceUrl),t.R7$(),t.Y8G("ngIf",o.detail.longDescription)("ngIfElse",e),t.R7$(3),t.Y8G("ngIf",o.detail.startCommand),t.R7$(),t.Y8G("ngIf",o.actionEntries.length)}}function j(n,r){if(1&n&&(t.j41(0,"section",26),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n){const e=t.XpG();t.AVh("status--error",!!e.errorKey),t.R7$(),t.SpI(" ",t.bMT(2,3,e.errorKey||"botDetail.notFound")," ")}}let $=(()=>{class n{route;botService;translation;detail=null;actionEntries=[];loading=!0;errorKey=null;destroy$=new p.B;constructor(e,o,a){this.route=e,this.botService=o,this.translation=a}ngOnInit(){this.route.paramMap.pipe((0,b.Q)(this.destroy$)).subscribe(e=>{const o=e.get("language"),a=e.get("botName");o&&a?this.fetchBotDetail(o,a):this.setError("botDetail.missingParams")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}downloadBot(){this.detail&&this.botService.downloadBot(this.detail).pipe((0,g.s)(1)).subscribe({next:e=>{const o=document.createElement("a");o.href=window.URL.createObjectURL(e),o.download=`${this.detail.botName}.zip`,o.click()},error:e=>{console.error(this.translation.translate("botSection.downloadErrorLog")+":",e),alert(this.translation.translate("botSection.downloadErrorAlert"))}})}openSource(){this.detail?.sourceUrl&&this.botService.openBot(this.detail)}fetchBotDetail(e,o){this.loading=!0,this.errorKey=null,this.botService.getBotsConfig().pipe((0,g.s)(1),(0,u.T)(a=>this.resolveSummary(a.botsByLanguage[e],e,o)),(0,x.n)(a=>a?this.botService.getBotDetails(a):(0,m.$)(()=>new Error("notFound"))),(0,E.W)(a=>{const s=a instanceof Error&&"notFound"===a.message;return this.setError(s?"botDetail.notFound":"botDetail.loadError",s?void 0:a),(0,f.of)(null)})).subscribe(a=>{this.detail=a,this.loading=!1,this.actionEntries=a?Object.entries(a.actions??{}).map(([s,l])=>({key:s,value:l})):[]})}resolveSummary(e,o,a){const s=e?.find(l=>l.botName===a);return s||null}setError(e,o){o&&console.error(this.translation.translate("botDetail.loadErrorLog")+":",o),this.loading=!1,this.errorKey=e,this.detail=null,this.actionEntries=[]}static \u0275fac=function(o){return new(o||n)(t.rXU(_.nX),t.rXU(O.J),t.rXU(C.L))};static \u0275cmp=t.VBU({type:n,selectors:[["app-bot-detail-page"]],standalone:!0,features:[t.aNF],decls:6,vars:4,consts:[["shortDescription",""],[3,"showHero"],[1,"bot-detail-page"],["class","status status--loading",4,"ngIf"],["class","bot-detail",4,"ngIf"],["class","status",3,"status--error",4,"ngIf"],[1,"status","status--loading"],[1,"bot-detail"],[1,"back-link",3,"routerLink"],[1,"bot-detail__header"],[1,"bot-detail__heading"],[1,"bot-detail__language"],[1,"bot-detail__actions"],["type","button",1,"btn","btn-primary",3,"click"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","bot-detail__description",4,"ngIf","ngIfElse"],["class","bot-detail__meta",4,"ngIf"],["class","bot-detail__extra",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"bot-detail__description"],[1,"bot-detail__meta"],[1,"meta-label"],[1,"bot-detail__extra"],[4,"ngFor","ngForOf"],[1,"action-key"],[1,"action-value"],[1,"status"]],template:function(o,a){1&o&&(t.nrm(0,"app-header",1),t.j41(1,"main",2),t.DNE(2,I,3,3,"section",3)(3,F,21,17,"section",4)(4,j,3,5,"section",5),t.k0s(),t.nrm(5,"app-footer")),2&o&&(t.Y8G("showHero",!1),t.R7$(2),t.Y8G("ngIf",a.loading),t.R7$(),t.Y8G("ngIf",!a.loading&&a.detail),t.R7$(),t.Y8G("ngIf",!a.loading&&!a.detail))},dependencies:[c.MD,c.Sq,c.bT,_.iI,_.Wk,P.l,h.n,M.D],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.bot-detail-page[_ngcontent-%COMP%]{flex:1 0 auto;width:min(960px,100% - 3rem);margin:clamp(2.5rem,6vw,4rem) auto clamp(3rem,7vw,5rem);display:flex;flex-direction:column;gap:clamp(2rem,5vw,3rem)}.back-link[_ngcontent-%COMP%]{align-self:flex-start;display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1.2rem;border-radius:999px;border:1px solid rgba(56,189,248,.3);background:#082f4947;color:var(--accent);letter-spacing:.12em;text-decoration:none;text-transform:uppercase;transition:transform .2s ease,box-shadow .2s ease}.back-link[_ngcontent-%COMP%]:hover, .back-link[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 18px 35px #0ea5e933}.bot-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:clamp(1.5rem,4vw,2.5rem);padding:clamp(2rem,5vw,3rem);border-radius:36px;background:linear-gradient(165deg,#080f1ff2,#0f172ab3);border:1px solid rgba(148,163,184,.18);box-shadow:0 42px 90px #082f4966}.bot-detail__header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:1.5rem}.bot-detail__heading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.bot-detail__heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:clamp(2.2rem,5vw,2.8rem);letter-spacing:.05em}.bot-detail__language[_ngcontent-%COMP%]{font-size:.85rem;letter-spacing:.22em;text-transform:uppercase;color:#94a3b8d9}.bot-detail__actions[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:wrap;gap:.75rem}.bot-detail__description[_ngcontent-%COMP%]{margin:0;color:#e2e8f0d9;line-height:1.8}.bot-detail__meta[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;gap:.6rem;align-self:flex-start;padding:1.1rem 1.4rem;border-radius:18px;background:#0f172abf;border:1px solid rgba(56,189,248,.18)}.bot-detail__meta[_ngcontent-%COMP%]   .meta-label[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.22em;text-transform:uppercase;color:#94a3b8d9}.bot-detail__meta[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.95rem;padding:.45rem .75rem;border-radius:12px;background:#080f1fd9;border:1px solid rgba(56,189,248,.22);color:var(--accent)}.bot-detail__extra[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.bot-detail__extra[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;letter-spacing:.08em;text-transform:uppercase}.bot-detail__extra[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:grid;gap:.75rem}.bot-detail__extra[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:1rem 1.25rem;border-radius:18px;background:#0f172aa6;border:1px solid rgba(148,163,184,.18)}.bot-detail__extra[_ngcontent-%COMP%]   .action-key[_ngcontent-%COMP%]{font-size:.85rem;letter-spacing:.18em;text-transform:uppercase;color:#94a3b8d9}.bot-detail__extra[_ngcontent-%COMP%]   .action-value[_ngcontent-%COMP%]{color:#e2e8f0e6;word-break:break-word}.status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:clamp(2rem,5vw,3rem);border-radius:24px;background:#0f172a99;border:1px solid rgba(148,163,184,.25);color:#e2e8f0d9;text-align:center;font-size:1.05rem;letter-spacing:.05em;text-transform:uppercase}.status--loading[_ngcontent-%COMP%]{background:#082f4980;border-color:#38bdf840}.status--error[_ngcontent-%COMP%]{background:#88133759;border-color:#f43f5e59}@media(max-width:720px){.bot-detail-page[_ngcontent-%COMP%]{width:calc(100% - 2rem)}.bot-detail__header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.bot-detail__actions[_ngcontent-%COMP%]{width:100%}.bot-detail__actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1 1 auto;justify-content:center}}"]})}return n})()}}]);